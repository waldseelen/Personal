@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    :root {
        /* Light mode colors */
        --background: 255 255 255;
        --foreground: 10 10 10;
        --muted: 245 245 245;
        --muted-foreground: 115 115 115;
        --border: 229 229 229;
        --ring: 14 165 233;
    }

    .dark {
        /* Dark mode colors */
        --background: 10 10 10;
        --foreground: 250 250 250;
        --muted: 38 38 38;
        --muted-foreground: 163 163 163;
        --border: 38 38 38;
        --ring: 56 189 248;
    }

    * {
        @apply border-neutral-200 dark:border-neutral-800;
    }

    html {
        @apply scroll-smooth;
    }

    body {
        @apply bg-white text-neutral-900 antialiased dark:bg-neutral-950 dark:text-neutral-50;
        font-feature-settings: 'rlig' 1, 'calt' 1;
    }

    /* Focus styles for accessibility */
    :focus-visible {
        @apply outline-2 outline-offset-2 outline-primary-500;
    }

    /* Skip to main content link */
    .skip-link {
        @apply absolute -top-10 left-0 z-50 bg-primary-600 px-4 py-2 text-white transition-all focus:top-0;
    }

    /* Smooth scrolling for reduced motion preference */
    @media (prefers-reduced-motion: reduce) {
        html {
            scroll-behavior: auto;
        }

        *,
        *::before,
        *::after {
            animation-duration: 0.01ms !important;
            animation-iteration-count: 1 !important;
            transition-duration: 0.01ms !important;
        }
    }
}

@layer components {

    /* Container utility */
    .container-custom {
        @apply mx-auto w-full max-w-7xl px-4 sm:px-6 lg:px-8;
    }

    /* Button styles with enhanced animations */
    .btn {
        @apply inline-flex items-center justify-center rounded-lg px-4 py-2 text-sm font-medium transition-all duration-300 ease-out focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 active:scale-95;
    }

    .btn-primary {
        @apply btn bg-primary-600 text-white hover:bg-primary-700 hover:shadow-lg hover:-translate-y-0.5 active:bg-primary-800;
    }

    .btn-secondary {
        @apply btn bg-neutral-100 text-neutral-900 hover:bg-neutral-200 hover:shadow-md hover:-translate-y-0.5 dark:bg-neutral-800 dark:text-neutral-50 dark:hover:bg-neutral-700;
    }

    .btn-outline {
        @apply btn border-2 border-primary-600 text-primary-600 hover:bg-primary-50 hover:shadow-md hover:-translate-y-0.5 dark:border-primary-400 dark:text-primary-400 dark:hover:bg-primary-950;
    }

    .btn-ghost {
        @apply btn text-neutral-600 hover:bg-neutral-100 hover:scale-105 dark:text-neutral-400 dark:hover:bg-neutral-800;
    }

    /* Card component with enhanced hover */
    .card {
        @apply rounded-2xl border border-neutral-200 bg-white p-6 shadow-soft transition-all duration-300 hover:shadow-lg hover:-translate-y-1 dark:border-neutral-800 dark:bg-neutral-900;
    }

    /* Section spacing */
    .section {
        @apply py-16 md:py-24 lg:py-32;
    }

    /* Heading styles */
    .heading-display {
        @apply text-display font-bold tracking-tight text-neutral-900 dark:text-neutral-50;
    }

    .heading-1 {
        @apply text-4xl font-bold tracking-tight text-neutral-900 md:text-5xl dark:text-neutral-50;
    }

    .heading-2 {
        @apply text-3xl font-bold tracking-tight text-neutral-900 md:text-4xl dark:text-neutral-50;
    }

    .heading-3 {
        @apply text-2xl font-semibold text-neutral-900 dark:text-neutral-50;
    }

    /* Prose/text content */
    .prose-custom {
        @apply prose prose-neutral max-w-none prose-headings:font-semibold prose-a:text-primary-600 prose-a:no-underline hover:prose-a:underline dark:prose-invert dark:prose-a:text-primary-400;
    }

    /* Gradient text */
    .gradient-text {
        @apply bg-gradient-to-r from-primary-600 via-accent-600 to-primary-600 bg-clip-text text-transparent;
    }

    /* Navigation link */
    .nav-link {
        @apply relative px-3 py-2 text-sm font-medium text-neutral-600 transition-colors hover:text-neutral-900 dark:text-neutral-400 dark:hover:text-neutral-50;
    }

    .nav-link.active {
        @apply text-primary-600 dark:text-primary-400;
    }

    .nav-link.active::after {
        @apply absolute bottom-0 left-3 right-3 h-0.5 bg-primary-600 content-[''] dark:bg-primary-400;
    }
}

@layer utilities {

    /* Text balance for headings */
    .text-balance {
        text-wrap: balance;
    }

    /* Fade in animation with delay support */
    .animate-delay-100 {
        animation-delay: 100ms;
    }

    .animate-delay-200 {
        animation-delay: 200ms;
    }

    .animate-delay-300 {
        animation-delay: 300ms;
    }

    .animate-delay-500 {
        animation-delay: 500ms;
    }

    .animate-delay-700 {
        animation-delay: 700ms;
    }

    .animate-delay-1000 {
        animation-delay: 1000ms;
    }

    /* Glass effect */
    .glass {
        @apply bg-white/80 backdrop-blur-lg dark:bg-neutral-900/80;
    }

    /* Hide scrollbar but keep functionality */
    .scrollbar-hide {
        -ms-overflow-style: none;
        scrollbar-width: none;
    }

    .scrollbar-hide::-webkit-scrollbar {
        display: none;
    }

    /* Interactive hover effects */
    .hover-lift {
        @apply transition-all duration-300 ease-out;
    }

    .hover-lift:hover {
        @apply -translate-y-2 shadow-xl;
    }

    .hover-glow {
        @apply transition-all duration-300;
    }

    .hover-glow:hover {
        @apply shadow-glow;
    }

    .hover-scale {
        @apply transition-transform duration-300;
    }

    .hover-scale:hover {
        @apply scale-105;
    }

    /* Button press effect */
    .press-effect {
        @apply transition-transform duration-100 active:scale-95;
    }

    /* Gradient animations */
    .gradient-animate {
        background-size: 200% 200%;
        animation: gradientFlow 3s ease infinite;
    }

    /* Shine effect for buttons/cards */
    .shine-effect {
        position: relative;
        overflow: hidden;
    }

    .shine-effect::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(120deg,
                transparent,
                rgba(255, 255, 255, 0.3),
                transparent);
        transition: left 0.5s ease;
    }

    .shine-effect:hover::before {
        left: 100%;
    }

    /* Border gradient effect */
    .border-gradient {
        position: relative;
        background: linear-gradient(var(--background), var(--background)) padding-box,
            linear-gradient(135deg, theme('colors.primary.500'), theme('colors.accent.500')) border-box;
        border: 2px solid transparent;
    }

    /* Focus ring animation */
    .focus-ring-animate {
        @apply focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2;
        transition: box-shadow 0.2s ease;
    }

    /* Responsive text scaling */
    .text-responsive {
        font-size: clamp(1rem, 2.5vw, 1.25rem);
    }

    .text-hero-responsive {
        font-size: clamp(2rem, 5vw, 4rem);
    }
}

/* Gradient flow animation */
@keyframes gradientFlow {
    0% {
        background-position: 0% 50%;
    }

    50% {
        background-position: 100% 50%;
    }

    100% {
        background-position: 0% 50%;
    }
}
